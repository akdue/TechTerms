# **Ternary Operator**

## الترجمة الحرفية  
**Ternary Operator (`condition ? whenTrue : whenFalse`)** — (`?:`) **المعامل الثلاثي** لاختيار قيمة اعتمادًا على شرط.

## الوصف العربي المختصر  
تعبير يُعيد **قيمة واحدة** بناءً على **شرط منطقي**: إن كان صحيحًا يعيد **الفرع الأول**، وإلّا يعيد **الفرع الثاني**.  
بديل مختصر لـ `if/else` عندما تحتاج **قيمة** داخل سطر واحد.

## الشرح المبسّط  
- فكر فيه كـ **سؤال قصير**: *هل الشرط صحيح؟* نعم → خذ القيمة (A)، لا → خذ القيمة (B).  
- يُستعمل **داخل التعابير** (إسناد، استدعاء، تهيئة خاصية…).  
- **فرع واحد فقط يُقيَّم** (Short-circuit): الفرع غير المختار لا يُنفَّذ.  
- للوضوح: تجنّب التعشيش المعقّد، واستعمل **أقواسًا** عند الشك في الأسبقية.

## تشبيه  
زرّان على آلة: إذا **الضوء أخضر** اطبع “Go”، وإلا اطبع “Stop”.  
زر واحد يختار **قيمة** من خيارين بسرعة.

## مثال كود C# بسيط
```csharp
using System;

class Program
{
    static void Main()
    {
        int score = 72;

        // 1) قيمة نصية حسب شرط
        string grade = score >= 60 ? "Pass" : "Fail";
        Console.WriteLine(grade); // Pass

        // 2) قيمة عددية (قيمة مطلقة)
        int n = -5;
        int abs = n >= 0 ? n : -n;     // تعبير يعيد int
        Console.WriteLine(abs);        // 5

        // 3) استخدام داخل استدعاء
        Console.WriteLine(score > 90 ? "Excellent" : "Keep going");

        // 4) تعشيش بسيط (استخدم أقواسًا للوضوح)
        string band = score >= 90 ? "A"
                     : (score >= 80 ? "B"
                     : (score >= 70 ? "C" : "D"));
        Console.WriteLine(band); // C

        // ملاحظة: المعامل الثلاثي "تعبير" وليس "جملة"؛ لا يصلح لكتابة عدة أسطر من المنطق
    }
}
```
الإخراج المتوقع:  
```
Pass
5
Keep going
C
```

## خطوات عملية لاستخدامه بفعالية
- استخدمه **حين تريد قيمة** في سطر واحد (تعيين/إرجاع).  
- إن زاد التعقيد أو تعددت الشروط → استعمل `if/else` أو `switch`/`switch expression`.  
- اجعل **الفرعين من نفس النوع** (أو قابلين للتحويل بوضوح).  
- تجنّب **آثار جانبية** داخل الفروع (مثل `x++`) للحفاظ على قابلية القراءة.  
- أضف **أقواسًا** إذا جمعتَه مع معاملات أخرى لتوضيح ترتيب التقييم.

## أخطاء شائعة
- استخدامه بدل `if/else` في منطق طويل → **كود غامض**.  
- اختلاف نوعي الفرعين بشكل يسبب **تحويلات ضمنية مربكة**.  
- تعشيش بلا أقواس → التباس الأسبقية وصعوبة الصيانة.

## جدول مقارنة مختصر

| المفهوم | الغرض الرئيسي | ملاحظات مهمة |
|---|---|---|
| **Ternary Operator** | **اختيار قيمة واحدة بناءً على شرط** | **تعبير مختصر؛ قيّم فرعًا واحدًا فقط؛ تجنّب التعشيش المعقّد** |
| [Null-Coalescing Operator](null-coalescing-operator.md) | تعيين قيمة بديلة عند `null` | يختلف: يتحقق من `null` فقط وليس من شرط منطقي |
| [Null-Conditional Operator](null-conditional-operator.md) | إيقاف السلسلة عند `null` بأمان (`?.`) | يُعيد `null` بدل الرمي؛ يُدمَج عادة مع `??` لقيمة افتراضية |

## ملخص الفكرة  
المعامل الثلاثي `?:` هو **اختصار أنيق** لاختيار **قيمة** وفق شرط.  
استخدمه للبساطة والوضوح؛ وإن تعقّد المنطق فارجع إلى `if/else` أو `switch`.
